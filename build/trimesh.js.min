(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=e.cache[r],o=s?s.exports:i();return o};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(t,n){function u(t){t=r.normalize(t);if(e.modules[t])return t;for(var n=0;n<e.extensions.length;n++){var i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){t=t.replace(/\/+$/,"");var n=r.normalize(t+"/package.json");if(e.modules[n]){var i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){var o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){var o=u(r.resolve(t,s));if(o)return o}else if(i.main){var o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n=l(t);for(var r=0;r<n.length;r++){var i=n[r],s=u(i+"/"+e);if(s)return s;var o=a(i+"/"+e);if(o)return o}var s=u(e);if(s)return s}function l(e){var t;e==="/"?t=[""]:t=r.normalize(e).split("/");var n=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";n.push(s)}return n}n||(n="/");if(e._core[t])return t;var r=e.modules.path();n=r.resolve("/",n);var i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){var s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}var o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}(),e.alias=function(t,n){var r=e.modules.path(),i=null;try{i=e.resolve(t+"/package.json","/")}catch(s){i=e.resolve(t,"/")}var o=r.dirname(i),u=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(var a=0;a<u.length;a++){var f=u[a];if(f.slice(0,o.length+1)===o+"/"){var l=f.slice(o.length);e.modules[n+l]=e.modules[o+l]}else f===o&&(e.modules[n]=e.modules[o])}},function(){var t={},n=typeof window!="undefined"?window:{},r=!1;e.define=function(i,s){!r&&e.modules.__browserify_process&&(t=e.modules.__browserify_process(),r=!0);var o=e._core[i]?"":e.modules.path().dirname(i),u=function(t){var n=e(t,o),r=e.cache[e.resolve(t,o)];return r&&r.parent===null&&(r.parent=a),n};u.resolve=function(t){return e.resolve(t,o)},u.modules=e.modules,u.define=e.define,u.cache=e.cache;var a={id:i,filename:i,exports:{},loaded:!1,parent:null};e.modules[i]=function(){return e.cache[i]=a,s.call(a.exports,u,a,a.exports,o,i,t,n),a.loaded=!0,a.exports}}}(),e.define("path",function(e,t,n,r,i,s,o){function u(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function a(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(u(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=f.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=f.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return f.exec(e)[3]||""}}),e.define("__browserify_process",function(e,t,n,r,i,s,o){var s=t.exports={};s.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&e.data==="browserify-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0),function(t){n.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),e.define("/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/index.js",function(e,t,n,r,i,s,o){var u=e("./src/topology.js");n.vertex_stars=u.vertex_stars,n.edges=u.edges;var a=e("./src/repair.js");n.fuse_vertices=a.fuse_vertices,n.marching_cubes=e("./src/marchingcubes.js").marching_cubes,n.marching_tetrahedra=e("./src/marchingtetrahedra.js").marching_tetrahedra,n.surface_nets=e("./src/surfacenets.js").surface_nets;var f=e("./src/normals.js");n.vertex_normals=f.vertex_normals,n.face_normals=f.face_normals,n.surface_distance_to_point=e("./src/metric.js").surface_distance_to_point;var l=e("./src/shapes.js");n.grid_mesh=l.grid_mesh,n.cube_mesh=l.cube_mesh,n.sphere_mesh=l.sphere_mesh,n.loop_subdivision=e("./src/loop_subdivision.js").loop_subdivision}),e.define("/src/topology.js",function(e,t,n,r,i,s,o){function u(e){var t=0;for(var n=0;n<e.length;++n){var r=e[n];for(var i=0;i<r.length;++i)t=Math.max(t,r[i])}return t+1}n.vertex_stars=function(e){var t=e.faces,n=e.vertex_count||u(t),r=new Array(n);for(var i=0;i<r.length;++i)r[i]=[];for(var i=0;i<t.length;++i){var s=t[i];for(var o=0;o<s.length;++o)r[s[o]].push(i)}return r},n.edges=function(e){var t=e.faces,n={};for(var r=0;r<t.length;++r){var i=t[r];for(var s=0;s<i.length;++s){var o=[i[s],i[(s+1)%i.length]];o.sort(),o in n?n[o].push(r):n[o]=[r]}}return n};var a=new Function("a","b","return a[0] === b[0] ? a[1]-b[1] : a[0]-b[0];");n.rings=function(e){var t=e.faces,r=e.stars||n.vertex_stars(e),i=e.vertex_count||r.length,s=new Array(i);for(var o=0;o<i;++o){var u=r[o],f=[];for(var l=0;l<u.length;++l){var c=t[u[l]];for(var h=0;h<c.length;++h){var p=[c[h],c[(h+1)%3]];p.sort(),f.push(p)}}f.sort(a)}}}),e.define("/src/repair.js",function(e,t,n,r,i,s,o){"use strict";function u(e){var t=e.positions,n=e.faces,r=e.tolerance||1e-6,i={},s=[],o=new Array(t.length);for(var u=0;u<t.length;++u){var a=t[u],f=new Array(3);for(var l=0;l<3;++l)f[l]=Math.floor(a[l]/r);if(f in i)o[u]=i[f];else{var c=s.length;i[f]=c,o[u]=c,s.push(a.slice(0))}}var h=[];for(var u=0;u<n.length;++u){var p=n[u].slice(0),d=!1;for(var l=0;l<p.length;++l){p[l]=o[p[l]];for(var v=0;v<l;++v)p[l]===p[v]&&(d=!0)}d||h.push(p)}return{positions:s,faces:h}}n.fuse_vertices=u}),e.define("/src/marchingcubes.js",function(e,t,n,r,i,s,o){var u=new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),a=[[],[0,8,3],[0,1,9],[1,8,3,9,8,1],[1,2,10],[0,8,3,1,2,10],[9,2,10,0,2,9],[2,8,3,2,10,8,10,9,8],[3,11,2],[0,11,2,8,11,0],[1,9,0,2,3,11],[1,11,2,1,9,11,9,8,11],[3,10,1,11,10,3],[0,10,1,0,8,10,8,11,10],[3,9,0,3,11,9,11,10,9],[9,8,10,10,8,11],[4,7,8],[4,3,0,7,3,4],[0,1,9,8,4,7],[4,1,9,4,7,1,7,3,1],[1,2,10,8,4,7],[3,4,7,3,0,4,1,2,10],[9,2,10,9,0,2,8,4,7],[2,10,9,2,9,7,2,7,3,7,9,4],[8,4,7,3,11,2],[11,4,7,11,2,4,2,0,4],[9,0,1,8,4,7,2,3,11],[4,7,11,9,4,11,9,11,2,9,2,1],[3,10,1,3,11,10,7,8,4],[1,11,10,1,4,11,1,0,4,7,11,4],[4,7,8,9,0,11,9,11,10,11,0,3],[4,7,11,4,11,9,9,11,10],[9,5,4],[9,5,4,0,8,3],[0,5,4,1,5,0],[8,5,4,8,3,5,3,1,5],[1,2,10,9,5,4],[3,0,8,1,2,10,4,9,5],[5,2,10,5,4,2,4,0,2],[2,10,5,3,2,5,3,5,4,3,4,8],[9,5,4,2,3,11],[0,11,2,0,8,11,4,9,5],[0,5,4,0,1,5,2,3,11],[2,1,5,2,5,8,2,8,11,4,8,5],[10,3,11,10,1,3,9,5,4],[4,9,5,0,8,1,8,10,1,8,11,10],[5,4,0,5,0,11,5,11,10,11,0,3],[5,4,8,5,8,10,10,8,11],[9,7,8,5,7,9],[9,3,0,9,5,3,5,7,3],[0,7,8,0,1,7,1,5,7],[1,5,3,3,5,7],[9,7,8,9,5,7,10,1,2],[10,1,2,9,5,0,5,3,0,5,7,3],[8,0,2,8,2,5,8,5,7,10,5,2],[2,10,5,2,5,3,3,5,7],[7,9,5,7,8,9,3,11,2],[9,5,7,9,7,2,9,2,0,2,7,11],[2,3,11,0,1,8,1,7,8,1,5,7],[11,2,1,11,1,7,7,1,5],[9,5,8,8,5,7,10,1,3,10,3,11],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0],[11,10,5,7,11,5],[10,6,5],[0,8,3,5,10,6],[9,0,1,5,10,6],[1,8,3,1,9,8,5,10,6],[1,6,5,2,6,1],[1,6,5,1,2,6,3,0,8],[9,6,5,9,0,6,0,2,6],[5,9,8,5,8,2,5,2,6,3,2,8],[2,3,11,10,6,5],[11,0,8,11,2,0,10,6,5],[0,1,9,2,3,11,5,10,6],[5,10,6,1,9,2,9,11,2,9,8,11],[6,3,11,6,5,3,5,1,3],[0,8,11,0,11,5,0,5,1,5,11,6],[3,11,6,0,3,6,0,6,5,0,5,9],[6,5,9,6,9,11,11,9,8],[5,10,6,4,7,8],[4,3,0,4,7,3,6,5,10],[1,9,0,5,10,6,8,4,7],[10,6,5,1,9,7,1,7,3,7,9,4],[6,1,2,6,5,1,4,7,8],[1,2,5,5,2,6,3,0,4,3,4,7],[8,4,7,9,0,5,0,6,5,0,2,6],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9],[3,11,2,7,8,4,10,6,5],[5,10,6,4,7,2,4,2,0,2,7,11],[0,1,9,4,7,8,2,3,11,5,10,6],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6],[8,4,7,3,11,5,3,5,1,5,11,6],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7],[6,5,9,6,9,11,4,7,9,7,11,9],[10,4,9,6,4,10],[4,10,6,4,9,10,0,8,3],[10,0,1,10,6,0,6,4,0],[8,3,1,8,1,6,8,6,4,6,1,10],[1,4,9,1,2,4,2,6,4],[3,0,8,1,2,9,2,4,9,2,6,4],[0,2,4,4,2,6],[8,3,2,8,2,4,4,2,6],[10,4,9,10,6,4,11,2,3],[0,8,2,2,8,11,4,9,10,4,10,6],[3,11,2,0,1,6,0,6,4,6,1,10],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1],[9,6,4,9,3,6,9,1,3,11,6,3],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1],[3,11,6,3,6,0,0,6,4],[6,4,8,11,6,8],[7,10,6,7,8,10,8,9,10],[0,7,3,0,10,7,0,9,10,6,7,10],[10,6,7,1,10,7,1,7,8,1,8,0],[10,6,7,10,7,1,1,7,3],[1,2,6,1,6,8,1,8,9,8,6,7],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9],[7,8,0,7,0,6,6,0,2],[7,3,2,6,7,2],[2,3,11,10,6,8,10,8,9,8,6,7],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11],[11,2,1,11,1,7,10,6,1,6,7,1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6],[0,9,1,11,6,7],[7,8,0,7,0,6,3,11,0,11,6,0],[7,11,6],[7,6,11],[3,0,8,11,7,6],[0,1,9,11,7,6],[8,1,9,8,3,1,11,7,6],[10,1,2,6,11,7],[1,2,10,3,0,8,6,11,7],[2,9,0,2,10,9,6,11,7],[6,11,7,2,10,3,10,8,3,10,9,8],[7,2,3,6,2,7],[7,0,8,7,6,0,6,2,0],[2,7,6,2,3,7,0,1,9],[1,6,2,1,8,6,1,9,8,8,7,6],[10,7,6,10,1,7,1,3,7],[10,7,6,1,7,10,1,8,7,1,0,8],[0,3,7,0,7,10,0,10,9,6,10,7],[7,6,10,7,10,8,8,10,9],[6,8,4,11,8,6],[3,6,11,3,0,6,0,4,6],[8,6,11,8,4,6,9,0,1],[9,4,6,9,6,3,9,3,1,11,3,6],[6,8,4,6,11,8,2,10,1],[1,2,10,3,0,11,0,6,11,0,4,6],[4,11,8,4,6,11,0,2,9,2,10,9],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3],[8,2,3,8,4,2,4,6,2],[0,4,2,4,6,2],[1,9,0,2,3,4,2,4,6,4,3,8],[1,9,4,1,4,2,2,4,6],[8,1,3,8,6,1,8,4,6,6,10,1],[10,1,0,10,0,6,6,0,4],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3],[10,9,4,6,10,4],[4,9,5,7,6,11],[0,8,3,4,9,5,11,7,6],[5,0,1,5,4,0,7,6,11],[11,7,6,8,3,4,3,5,4,3,1,5],[9,5,4,10,1,2,7,6,11],[6,11,7,1,2,10,0,8,3,4,9,5],[7,6,11,5,4,10,4,2,10,4,0,2],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6],[7,2,3,7,6,2,5,4,9],[9,5,4,0,8,6,0,6,2,6,8,7],[3,6,2,3,7,6,1,5,0,5,4,0],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8],[9,5,4,10,1,6,1,7,6,1,3,7],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10],[7,6,10,7,10,8,5,4,10,4,8,10],[6,9,5,6,11,9,11,8,9],[3,6,11,0,6,3,0,5,6,0,9,5],[0,11,8,0,5,11,0,1,5,5,6,11],[6,11,3,6,3,5,5,3,1],[1,2,10,9,5,11,9,11,8,11,5,6],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5],[6,11,3,6,3,5,2,10,3,10,5,3],[5,8,9,5,2,8,5,6,2,3,8,2],[9,5,6,9,6,0,0,6,2],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8],[1,5,6,2,1,6],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6],[10,1,0,10,0,6,9,5,0,5,6,0],[0,3,8,5,6,10],[10,5,6],[11,5,10,7,5,11],[11,5,10,11,7,5,8,3,0],[5,11,7,5,10,11,1,9,0],[10,7,5,10,11,7,9,8,1,8,3,1],[11,1,2,11,7,1,7,5,1],[0,8,3,1,2,7,1,7,5,7,2,11],[9,7,5,9,2,7,9,0,2,2,11,7],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2],[2,5,10,2,3,5,3,7,5],[8,2,0,8,5,2,8,7,5,10,2,5],[9,0,1,5,10,3,5,3,7,3,10,2],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2],[1,3,5,3,7,5],[0,8,7,0,7,1,1,7,5],[9,0,3,9,3,5,5,3,7],[9,8,7,5,9,7],[5,8,4,5,10,8,10,11,8],[5,0,4,5,11,0,5,10,11,11,3,0],[0,1,9,8,4,10,8,10,11,10,4,5],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4],[2,5,1,2,8,5,2,11,8,4,5,8],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5],[9,4,5,2,11,3],[2,5,10,3,5,2,3,4,5,3,8,4],[5,10,2,5,2,4,4,2,0],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9],[5,10,2,5,2,4,1,9,2,9,4,2],[8,4,5,8,5,3,3,5,1],[0,4,5,1,0,5],[8,4,5,8,5,3,9,0,5,0,3,5],[9,4,5],[4,11,7,4,9,11,9,10,11],[0,8,3,4,9,7,9,11,7,9,10,11],[1,10,11,1,11,4,1,4,0,7,4,11],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4],[4,11,7,9,11,4,9,2,11,9,1,2],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3],[11,7,4,11,4,2,2,4,0],[11,7,4,11,4,2,8,3,4,3,2,4],[2,9,10,2,7,9,2,3,7,7,4,9],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10],[1,10,2,8,7,4],[4,9,1,4,1,7,7,1,3],[4,9,1,4,1,7,0,8,1,8,7,1],[4,0,3,7,4,3],[4,8,7],[9,10,8,10,11,8],[3,0,9,3,9,11,11,9,10],[0,1,10,0,10,8,8,10,11],[3,1,10,11,3,10],[1,2,11,1,11,9,9,11,8],[3,0,9,3,9,11,1,2,9,2,11,9],[0,2,11,8,0,11],[3,2,11],[2,3,8,2,8,10,10,8,9],[9,10,2,0,9,2],[2,3,8,2,8,10,0,1,8,1,10,8],[1,10,2],[1,3,8,9,1,8],[0,9,1],[0,3,8],[]],f=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],l=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];n.marching_cubes=function(e){var t=e.potential,n=e.resolution,r=[],i=[],s=0,o=new Array(8),c=new Array(12),h=[0,0,0];for(h[2]=0;h[2]<n[2]-1;++h[2],s+=n[0])for(h[1]=0;h[1]<n[1]-1;++h[1],++s)for(h[0]=0;h[0]<n[0]-1;++h[0],++s){var p=0;for(var d=0;d<8;++d){var v=f[d],m=t(h[0]+v[0],h[1]+v[1],h[2]+v[2]);o[d]=m,p|=m>0?1<<d:0}var g=u[p];if(g===0)continue;for(var d=0;d<12;++d){if((g&1<<d)===0)continue;c[d]=r.length;var y=[0,0,0],b=l[d],w=f[b[0]],E=f[b[1]],S=o[b[0]],x=o[b[1]],T=S-x,N=0;Math.abs(T)>1e-6&&(N=S/T);for(var C=0;C<3;++C)y[C]=h[C]+w[C]+N*(E[C]-w[C]);r.push(y)}var k=a[p];for(var d=0;d<k.length;d+=3)i.push([c[k[d]],c[k[d+1]],c[k[d+2]]])}return{positions:r,faces:i}}}),e.define("/src/marchingtetrahedra.js",function(e,t,n,r,i,s,o){var u=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],a=[[0,2,3,7],[0,6,2,7],[0,4,6,7],[0,6,1,2],[0,1,6,4],[5,6,1,4]];n.marching_tetrahedra=function(e){function c(e,t){var n=o[e],i=o[t],s=u[e],a=u[t],f=[l[0],l[1],l[2]],c=n-i;Math.abs(c)>1e-6&&(c=n/c);for(var h=0;h<3;++h)f[h]+=s[h]+c*(a[h]-s[h]);return r.push(f),r.length-1}var t=e.potential,n=e.resolution,r=[],i=[],s=0,o=new Float32Array(8),f=new Int32Array(12),l=[0,0,0];for(l[2]=0;l[2]<n[2]-1;++l[2],s+=n[0])for(l[1]=0;l[1]<n[1]-1;++l[1],++s)for(l[0]=0;l[0]<n[0]-1;++l[0],++s){for(var h=0;h<8;++h){var p=u[h];o[h]=t(l[0]+p[0],l[1]+p[1],l[2]+p[2])}for(var h=0;h<a.length;++h){var d=a[h],v=0;o[d[0]]<0&&(v|=1),o[d[1]]<0&&(v|=2),o[d[2]]<0&&(v|=4),o[d[3]]<0&&(v|=8);switch(v){case 0:case 15:break;case 14:i.push([c(d[0],d[1]),c(d[0],d[3]),c(d[0],d[2])]);break;case 1:i.push([c(d[0],d[1]),c(d[0],d[2]),c(d[0],d[3])]);break;case 13:i.push([c(d[1],d[0]),c(d[1],d[2]),c(d[1],d[3])]);break;case 2:i.push([c(d[1],d[0]),c(d[1],d[3]),c(d[1],d[2])]);break;case 12:i.push([c(d[1],d[2]),c(d[1],d[3]),c(d[0],d[3]),c(d[0],d[2])]);break;case 3:i.push([c(d[1],d[2]),c(d[0],d[2]),c(d[0],d[3]),c(d[1],d[3])]);break;case 4:i.push([c(d[2],d[0]),c(d[2],d[1]),c(d[2],d[3])]);break;case 11:i.push([c(d[2],d[0]),c(d[2],d[3]),c(d[2],d[1])]);break;case 5:i.push([c(d[0],d[1]),c(d[1],d[2]),c(d[2],d[3]),c(d[0],d[3])]);break;case 10:i.push([c(d[0],d[1]),c(d[0],d[3]),c(d[2],d[3]),c(d[1],d[2])]);break;case 6:i.push([c(d[2],d[3]),c(d[0],d[2]),c(d[0],d[1]),c(d[1],d[3])]);break;case 9:i.push([c(d[2],d[3]),c(d[1],d[3]),c(d[0],d[1]),c(d[0],d[2])]);break;case 7:i.push([c(d[3],d[0]),c(d[3],d[1]),c(d[3],d[2])]);break;case 8:i.push([c(d[3],d[0]),c(d[3],d[2]),c(d[3],d[1])])}}}return{positions:r,faces:i}}}),e.define("/src/surfacenets.js",function(e,t,n,r,i,s,o){"use strict";var u=new Int32Array(24),a=new Int32Array(256);(function(){var e=0;for(var t=0;t<8;++t)for(var n=1;n<=4;n<<=1){var r=t^n;t<=r&&(u[e++]=t,u[e++]=r)}for(var t=0;t<256;++t){var i=0;for(var n=0;n<24;n+=2){var s=!!(t&1<<u[n]),o=!!(t&1<<u[n+1]);i|=s!==o?1<<(n>>1):0}a[t]=i}})();var f=new Array(4096);(function(){for(var e=0;e<f.length;++e)f[e]=0})(),n.surface_nets=function(e){var t=e.potential,n=e.resolution,r=[],i=[],s=0,o=[0,0,0],l=[1,n[0]+1,(n[0]+1)*(n[0]+1)],c=[0,0,0,0,0,0,0,0],h=1;if(l[2]*2>f.length){var p=f.length;f.length=l[2]*2;while(p<f.length)f[p++]=0}for(o[2]=0;o[2]<n[2]-1;++o[2],s+=n[0],h^=1,l[2]=-l[2]){var d=1+(n[0]+1)*(1+h*(n[1]+1));for(o[1]=0;o[1]<n[1]-1;++o[1],++s,d+=2)for(o[0]=0;o[0]<n[0]-1;++o[0],++s,++d){var v=0,m=0;for(var g=0;g<2;++g)for(var y=0;y<2;++y)for(var b=0;b<2;++b,++m){var w=t(o[0]+b,o[1]+y,o[2]+g);c[m]=w,v|=w<0?1<<m:0}if(v===0||v===255)continue;var E=a[v],S=[0,0,0],x=0;for(var b=0;b<12;++b){if(!(E&1<<b))continue;++x;var T=u[b<<1],N=u[(b<<1)+1],C=c[T],k=c[N],L=C-k;if(!(Math.abs(L)>1e-6))continue;L=C/L;for(var y=0,g=1;y<3;++y,g<<=1){var A=T&g,O=N&g;A!==O?S[y]+=A?1-L:L:S[y]+=A?1:0}}var M=1/x;for(var b=0;b<3;++b)S[b]=o[b]+M*S[b];f[d]=r.length,r.push(S);for(var b=0;b<3;++b){if(!(E&1<<b))continue;var _=(b+1)%3,D=(b+2)%3;if(o[_]===0||o[D]===0)continue;var P=l[_],H=l[D];v&1?(i.push([f[d],f[d-P],f[d-H]]),i.push([f[d-H],f[d-P],f[d-P-H]])):(i.push([f[d],f[d-H],f[d-P]]),i.push([f[d-P],f[d-H],f[d-P-H]]))}}}return{positions:r,faces:i}}}),e.define("/src/normals.js",function(e,t,n,r,i,s,o){var u=1e-6;n.vertex_normals=function(e){var t=e.positions,n=e.faces,r=t.length,i=new Array(r);for(var s=0;s<r;++s)i[s]=[0,0,0];for(var s=0;s<n.length;++s){var o=n[s],a=0,f=o[o.length-1],l=o[0];for(var c=0;c<o.length;++c){a=f,f=l,l=o[(c+1)%o.length];var h=t[a],p=t[f],d=t[l],v=new Array(3),m=0,g=new Array(3),y=0;for(var b=0;b<3;++b)v[b]=h[b]-p[b],m+=v[b]*v[b],g[b]=d[b]-p[b],y+=g[b]*g[b];if(m*y>u){var w=i[f],E=1/Math.sqrt(m*y);for(var b=0;b<3;++b){var S=(b+1)%3,x=(b+2)%3;w[b]+=E*(g[S]*v[x]-g[x]*v[S])}}}}for(var s=0;s<r;++s){var w=i[s],T=0;for(var b=0;b<3;++b)T+=w[b]*w[b];if(T>u){var E=1/Math.sqrt(T);for(var b=0;b<3;++b)w[b]*=E}else for(var b=0;b<3;++b)w[b]=0}return i},n.face_normals=function(e){var t=e.positions,n=e.faces,r=n.length,i=new Array(r);for(var s=0;s<r;++s){var o=n[s],a=new Array(3);for(var f=0;f<3;++f)a[f]=t[o[f]];var l=new Array(3),c=new Array(3);for(var f=0;f<3;++f)l[f]=a[1][f]-a[0][f],c[f]=a[2][f]-a[0][f];var h=new Array(3),p=0;for(var f=0;f<3;++f){var d=(f+1)%3,v=(f+2)%3;h[f]=l[d]*c[v]-l[v]*c[d],p+=h[f]*h[f]}p>u?p=1/Math.sqrt(p):p=0;for(var f=0;f<3;++f)h[f]*=p;i[s]=h}return i}}),e.define("/src/metric.js",function(e,t,n,r,i,s,o){function c(e,t,n,r,i,s){var o=new Array(3),u=new Array(3),a=0;for(var f=0;f<3;++f)o[f]=t[f]-e[f],a+=o[f]*o[f],u[f]=n[f]-e[f];if(a<l)return 1e30;var c=Math.sqrt(a),h=1/c,p=0;for(var f=0;f<3;++f)o[f]*=h,p+=o[f]*u[f];var d=0;for(var f=0;f<3;++f)d+=Math.pow(u[f]-p*o[f],2);d=Math.sqrt(d);var v=r*r,m=i*i,g=(v-m+a)/(2*c),y=v-g*g;if(y<0)return 1e30;y=Math.sqrt(y),s<0&&(y*=-1);var b=Math.sqrt(Math.pow(p-g,2)+Math.pow(d-y,2));return b}function h(e){function T(e,t){return l[e]-l[t]}var t=e.positions,n=e.faces,r=e.initial_vertex,i=e.stars||f({vertex_count:t.length,faces:n}),s=e.max_distance||Number.POSITIVE_INFINITY,o=e.tolerance||1e-4,u=new a(new Function("a","return a.d;")),l=[];u.push({d:0,v:r});while(u.size()>0){var h=u.pop();if(h.v in l)continue;var p=h.d,d=h.v;l[d]=p;var v=t[d],m=i[d];for(var g=0;g<m.length;++g){var y=n[m[g]];for(var b=0;b<y.length;++b){var w=y[b];if(w===d||w in l)continue;var E=t[w],S=0;for(var x=0;x<3;++x)S+=Math.pow(v[x]-E[x],2);S=Math.sqrt(S)+p,S<=s&&u.push({d:S,v:w})}}}for(;;){var N=!0,C=[];for(var d in l)C.push(d);C.sort(T);for(var k=0;k<C.length;++k){var d=C[k];if(l[d]>s)break;var m=i[d];for(var L=0;L<m.length;++L){var A=n[m[L]].slice(0);A.sort(T);if(Math.abs(l[A[1]]-l[A[2]])<1e-6)continue;var O=c(t[A[0]],t[A[1]],t[A[2]],l[A[0]],l[A[1]],-1);if(O>s)continue;var M=l[A[2]];O<M&&Math.abs(O-M)>o&&(l[A[2]]=Math.min(M,O),N=!1)}}if(N)return l}}var u=e("assert"),a=e("./heap.js").BinaryHeap,f=e("./topology.js").vertex_stars,l=1e-6;n.quadratic_distance=c,n.surface_distance_to_point=h}),e.define("assert",function(e,t,n,r,i,s,o){function c(e,t){return t===undefined?""+t:typeof t=="number"&&(isNaN(t)||!isFinite(t))?t.toString():typeof t=="function"||t instanceof RegExp?t.toString():t}function h(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function p(e,t,n,r,i){throw new l.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function d(e,t){e||p(e,!0,t,"==",l.ok)}function v(e,t){if(e===t)return!0;if(a.isBuffer(e)&&a.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():typeof e!="object"&&typeof t!="object"?e==t:y(e,t)}function m(e){return e===null||e===undefined}function g(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function y(e,t){if(m(e)||m(t))return!1;if(e.prototype!==t.prototype)return!1;if(g(e))return g(t)?(e=f.call(e),t=f.call(t),v(e,t)):!1;try{var n=Object.keys(e),r=Object.keys(t),i,s}catch(o){return!1}if(n.length!=r.length)return!1;n.sort(),r.sort();for(s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--){i=n[s];if(!v(e[i],t[i]))return!1}return!0}function b(e,t){return!e||!t?!1:t instanceof RegExp?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1}function w(e,t,n,r){var i;typeof n=="string"&&(r=n,n=null);try{t()}catch(s){i=s}r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&p("Missing expected exception"+r),!e&&b(i,n)&&p("Got unwanted exception"+r);if(e&&i&&n&&!b(i,n)||!e&&i)throw i}var u=e("util"),a=e("buffer").Buffer,f=Array.prototype.slice,l=t.exports=d;l.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var n=t.stackStartFunction||p;Error.captureStackTrace&&Error.captureStackTrace(this,n)},u.inherits(l.AssertionError,Error),l.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",h(JSON.stringify(this.actual,c),128),this.operator,h(JSON.stringify(this.expected,c),128)].join(" ")},l.AssertionError.__proto__=Error.prototype,l.fail=p,l.ok=d,l.equal=function(t,n,r){t!=n&&p(t,n,r,"==",l.equal)},l.notEqual=function(t,n,r){t==n&&p(t,n,r,"!=",l.notEqual)},l.deepEqual=function(t,n,r){v(t,n)||p(t,n,r,"deepEqual",l.deepEqual)},l.notDeepEqual=function(t,n,r){v(t,n)&&p(t,n,r,"notDeepEqual",l.notDeepEqual)},l.strictEqual=function(t,n,r){t!==n&&p(t,n,r,"===",l.strictEqual)},l.notStrictEqual=function(t,n,r){t===n&&p(t,n,r,"!==",l.notStrictEqual)},l.throws=function(e,t,n){w.apply(this,[!0].concat(f.call(arguments)))},l.doesNotThrow=function(e,t,n){w.apply(this,[!1].concat(f.call(arguments)))},l.ifError=function(e){if(e)throw e}}),e.define("util",function(e,t,n,r,i,s,o){function a(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&a(e.__proto__)}function f(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function l(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&v(Date.prototype),n=e.__proto__&&v(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function c(e){return e<10?"0"+e.toString(10):e.toString(10)}function p(){var e=new Date,t=[c(e.getHours()),c(e.getMinutes()),c(e.getSeconds())].join(":");return[e.getDate(),h[e.getMonth()],t].join(" ")}var u=e("events");n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,i){function u(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return o("undefined","undefined");case"string":var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o(i,"string");case"number":return o(""+e,"number");case"boolean":return o(""+e,"boolean")}if(e===null)return o("null","null");var c=d(e),h=t?v(e):c;if(typeof e=="function"&&h.length===0){if(f(e))return o(""+e,"regexp");var p=e.name?": "+e.name:"";return o("[Function"+p+"]","special")}if(l(e)&&h.length===0)return o(e.toUTCString(),"date");var m,g,y;a(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=f(e)?" "+e:" [Function"+b+"]"}else m="";l(e)&&(m=" "+e.toUTCString());if(h.length===0)return y[0]+m+y[1];if(r<0)return f(e)?o(""+e,"regexp"):o("[Object]","special");s.push(e);var w=h.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=o("[Getter/Setter]","special"):i=o("[Getter]","special"):e.__lookupSetter__(t)&&(i=o("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(s.indexOf(e[t])<0?(r===null?i=u(e[t]):i=u(e[t],r-1),i.indexOf("\n")>-1&&(a(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=o("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=o(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=o(n,"string"))}return n+": "+i});s.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var s=[],o=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return i||(o=function(e,t){return e}),u(e,typeof r=="undefined"?2:r)};var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var d=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},v=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},m=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=m(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var g=/%[sdj%]/g;n.format=function(e){if(typeof e!="string"){var t=[];for(var r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}var r=1,i=arguments,s=i.length,o=String(e).replace(g,function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return e}});for(var u=i[r];r<s;u=i[++r])u===null||typeof u!="object"?o+=" "+u:o+=" "+n.inspect(u);return o}}),e.define("events",function(e,t,n,r,i,s,o){s.EventEmitter||(s.EventEmitter=function(){});var u=n.EventEmitter=s.EventEmitter,a=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},f=10;u.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},u.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||a(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(a(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},u.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(a(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=f,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},u.prototype.on=u.prototype.addListener,u.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},u.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(a(n)){var r=n.indexOf(t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},u.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},u.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),e.define("buffer",function(e,t,n,r,i,s,o){t.exports=e("buffer-browserify")}),e.define("/node_modules/buffer-browserify/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js",browserify:"index.js"}}),e.define("/node_modules/buffer-browserify/index.js",function(e,t,n,r,i,s,o){function u(e){this.length=e}function f(e){return e<16?"0"+e.toString(16):e.toString(16)}function l(e){var t=[];for(var n=0;n<e.length;n++)if(e.charCodeAt(n)<=127)t.push(e.charCodeAt(n));else{var r=encodeURIComponent(e.charAt(n)).substr(1).split("%");for(var i=0;i<r.length;i++)t.push(parseInt(r[i],16))}return t}function c(e){var t=[];for(var n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t}function h(t){return e("base64-js").toByteArray(t)}function p(e,t,n,r){var i,s=0;while(s<r){if(s+n>=t.length||s>=e.length)break;t[s+n]=e[s],s++}return s}function d(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function v(e){return e=~~Math.ceil(+e),e<0?0:e}function m(e,t,n){if(!(this instanceof m))return new m(e,t,n);var r;if(typeof n=="number")this.length=v(t),this.parent=e,this.offset=n;else{switch(r=typeof e){case"number":this.length=v(e);break;case"string":this.length=m.byteLength(e,t);break;case"object":this.length=v(e.length);break;default:throw new Error("First argument needs to be a number, array or string.")}this.length>m.poolSize?(this.parent=new u(this.length),this.offset=0):((!y||y.length-y.used<this.length)&&b(),this.parent=y,this.offset=y.used,y.used+=this.length);if(g(e))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=e[i];else r=="string"&&(this.length=this.write(e,0,t))}}function g(e){return Array.isArray(e)||m.isBuffer(e)||e&&typeof e=="object"&&typeof e.length=="number"}function b(){y=new u(m.poolSize),y.used=0}function w(e,t,n,r){var i=0;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+1<e.length,"Trying to read beyond buffer length")),n?(i=e.parent[e.offset+t]<<8,i|=e.parent[e.offset+t+1]):(i=e.parent[e.offset+t],i|=e.parent[e.offset+t+1]<<8),i}function E(e,t,n,r){var i=0;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+3<e.length,"Trying to read beyond buffer length")),n?(i=e.parent[e.offset+t+1]<<16,i|=e.parent[e.offset+t+2]<<8,i|=e.parent[e.offset+t+3],i+=e.parent[e.offset+t]<<24>>>0
):(i=e.parent[e.offset+t+2]<<16,i|=e.parent[e.offset+t+1]<<8,i|=e.parent[e.offset+t],i+=e.parent[e.offset+t+3]<<24>>>0),i}function S(e,t,n,r){var i,s;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+1<e.length,"Trying to read beyond buffer length")),s=w(e,t,n,r),i=s&32768,i?(65535-s+1)*-1:s}function x(e,t,n,r){var i,s;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+3<e.length,"Trying to read beyond buffer length")),s=E(e,t,n,r),i=s&2147483648,i?(4294967295-s+1)*-1:s}function T(t,n,r,i){return i||(a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n+3<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,23,4)}function N(t,n,r,i){return i||(a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n+7<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,52,8)}function C(e,t){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e>=0,"specified a negative value for writing an unsigned value"),a.ok(e<=t,"value is larger than maximum value for type"),a.ok(Math.floor(e)===e,"value has a fractional component")}function k(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+1<e.length,"trying to write beyond buffer length"),C(t,65535)),r?(e.parent[e.offset+n]=(t&65280)>>>8,e.parent[e.offset+n+1]=t&255):(e.parent[e.offset+n+1]=(t&65280)>>>8,e.parent[e.offset+n]=t&255)}function L(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+3<e.length,"trying to write beyond buffer length"),C(t,4294967295)),r?(e.parent[e.offset+n]=t>>>24&255,e.parent[e.offset+n+1]=t>>>16&255,e.parent[e.offset+n+2]=t>>>8&255,e.parent[e.offset+n+3]=t&255):(e.parent[e.offset+n+3]=t>>>24&255,e.parent[e.offset+n+2]=t>>>16&255,e.parent[e.offset+n+1]=t>>>8&255,e.parent[e.offset+n]=t&255)}function A(e,t,n){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e<=t,"value larger than maximum allowed value"),a.ok(e>=n,"value smaller than minimum allowed value"),a.ok(Math.floor(e)===e,"value has a fractional component")}function O(e,t,n){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e<=t,"value larger than maximum allowed value"),a.ok(e>=n,"value smaller than minimum allowed value")}function M(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+1<e.length,"Trying to write beyond buffer length"),A(t,32767,-32768)),t>=0?k(e,t,n,r,i):k(e,65535+t+1,n,r,i)}function _(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+3<e.length,"Trying to write beyond buffer length"),A(t,2147483647,-2147483648)),t>=0?L(e,t,n,r,i):L(e,4294967295+t+1,n,r,i)}function D(t,n,r,i,s){s||(a.ok(n!==undefined&&n!==null,"missing value"),a.ok(typeof i=="boolean","missing or invalid endian"),a.ok(r!==undefined&&r!==null,"missing offset"),a.ok(r+3<t.length,"Trying to write beyond buffer length"),O(n,3.4028234663852886e38,-3.4028234663852886e38)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,23,4)}function P(t,n,r,i,s){s||(a.ok(n!==undefined&&n!==null,"missing value"),a.ok(typeof i=="boolean","missing or invalid endian"),a.ok(r!==undefined&&r!==null,"missing offset"),a.ok(r+7<t.length,"Trying to write beyond buffer length"),O(n,1.7976931348623157e308,-1.7976931348623157e308)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,52,8)}var a=e("assert");n.INSPECT_MAX_BYTES=50,u.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return l(e).length;case"ascii":return e.length;case"base64":return h(e).length;default:throw new Error("Unknown encoding")}},u.prototype.utf8Write=function(e,t,n){var r,i;return u._charsWritten=p(l(e),this,t,n)},u.prototype.asciiWrite=function(e,t,n){var r,i;return u._charsWritten=p(c(e),this,t,n)},u.prototype.base64Write=function(e,t,n){var r,i;return u._charsWritten=p(h(e),this,t,n)},u.prototype.base64Slice=function(t,n){var r=Array.prototype.slice.apply(this,arguments);return e("base64-js").fromByteArray(r)},u.prototype.utf8Slice=function(){var e=Array.prototype.slice.apply(this,arguments),t="",n="",r=0;while(r<e.length)e[r]<=127?(t+=d(n)+String.fromCharCode(e[r]),n=""):n+="%"+e[r].toString(16),r++;return t+d(n)},u.prototype.asciiSlice=function(){var e=Array.prototype.slice.apply(this,arguments),t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},u.prototype.inspect=function(){var e=[],t=this.length;for(var r=0;r<t;r++){e[r]=f(this[r]);if(r==n.INSPECT_MAX_BYTES){e[r+1]="...";break}}return"<SlowBuffer "+e.join(" ")+">"},u.prototype.hexSlice=function(e,t){var n=this.length;if(!e||e<0)e=0;if(!t||t<0||t>n)t=n;var r="";for(var i=e;i<t;i++)r+=f(this[i]);return r},u.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),t=+t||0,typeof n=="undefined"&&(n=this.length);if(+n==t)return"";switch(e){case"hex":return this.hexSlice(t,n);case"utf8":case"utf-8":return this.utf8Slice(t,n);case"ascii":return this.asciiSlice(t,n);case"binary":return this.binarySlice(t,n);case"base64":return this.base64Slice(t,n);case"ucs2":case"ucs-2":return this.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},u.prototype.hexWrite=function(e,t,n){t=+t||0;var r=this.length-t;n?(n=+n,n>r&&(n=r)):n=r;var i=e.length;if(i%2)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;s++){var o=parseInt(e.substr(s*2,2),16);if(isNaN(o))throw new Error("Invalid hex string");this[t+s]=o}return u._charsWritten=s*2,s},u.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var s=this.length-t;n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase();switch(r){case"hex":return this.hexWrite(e,t,n);case"utf8":case"utf-8":return this.utf8Write(e,t,n);case"ascii":return this.asciiWrite(e,t,n);case"binary":return this.binaryWrite(e,t,n);case"base64":return this.base64Write(e,t,n);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,n);default:throw new Error("Unknown encoding")}},u.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new m(this,t-e,+e)},u.prototype.copy=function(e,t,n,r){var i=[];for(var s=n;s<r;s++)a.ok(typeof this[s]!="undefined","copying undefined buffer bytes!"),i.push(this[s]);for(var s=t;s<t+i.length;s++)e[s]=i[s-t]},n.SlowBuffer=u,n.Buffer=m,m.poolSize=8192;var y;m.isBuffer=function(t){return t instanceof m||t instanceof u},m.concat=function(e,t){if(!Array.isArray(e))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(e.length===0)return new m(0);if(e.length===1)return e[0];if(typeof t!="number"){t=0;for(var n=0;n<e.length;n++){var r=e[n];t+=r.length}}var i=new m(t),s=0;for(var n=0;n<e.length;n++){var r=e[n];r.copy(i,s),s+=r.length}return i},m.prototype.inspect=function(){var t=[],r=this.length;for(var i=0;i<r;i++){t[i]=f(this.parent[i+this.offset]);if(i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}}return"<Buffer "+t.join(" ")+">"},m.prototype.get=function(t){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},m.prototype.set=function(t,n){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=n},m.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var s=this.length-t;n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase();var o;switch(r){case"hex":o=this.parent.hexWrite(e,this.offset+t,n);break;case"utf8":case"utf-8":o=this.parent.utf8Write(e,this.offset+t,n);break;case"ascii":o=this.parent.asciiWrite(e,this.offset+t,n);break;case"binary":o=this.parent.binaryWrite(e,this.offset+t,n);break;case"base64":o=this.parent.base64Write(e,this.offset+t,n);break;case"ucs2":case"ucs-2":o=this.parent.ucs2Write(e,this.offset+t,n);break;default:throw new Error("Unknown encoding")}return m._charsWritten=u._charsWritten,o},m.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),typeof t=="undefined"||t<0?t=0:t>this.length&&(t=this.length),typeof n=="undefined"||n>this.length?n=this.length:n<0&&(n=0),t+=this.offset,n+=this.offset;switch(e){case"hex":return this.parent.hexSlice(t,n);case"utf8":case"utf-8":return this.parent.utf8Slice(t,n);case"ascii":return this.parent.asciiSlice(t,n);case"binary":return this.parent.binarySlice(t,n);case"base64":return this.parent.base64Slice(t,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},m.byteLength=u.byteLength,m.prototype.fill=function(t,n,r){t||(t=0),n||(n=0),r||(r=this.length),typeof t=="string"&&(t=t.charCodeAt(0));if(typeof t!="number"||isNaN(t))throw new Error("value is not a number");if(r<n)throw new Error("end < start");if(r===n)return 0;if(this.length==0)return 0;if(n<0||n>=this.length)throw new Error("start out of bounds");if(r<0||r>this.length)throw new Error("end out of bounds");return this.parent.fill(t,n+this.offset,r+this.offset)},m.prototype.copy=function(e,t,n,r){var i=this;n||(n=0),r||(r=this.length),t||(t=0);if(r<n)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(e.length==0||i.length==0)return 0;if(t<0||t>=e.length)throw new Error("targetStart out of bounds");if(n<0||n>=i.length)throw new Error("sourceStart out of bounds");if(r<0||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n),this.parent.copy(e.parent,t+e.offset,n+this.offset,r+this.offset)},m.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new m(this.parent,t-e,+e+this.offset)},m.prototype.utf8Slice=function(e,t){return this.toString("utf8",e,t)},m.prototype.binarySlice=function(e,t){return this.toString("binary",e,t)},m.prototype.asciiSlice=function(e,t){return this.toString("ascii",e,t)},m.prototype.utf8Write=function(e,t){return this.write(e,t,"utf8")},m.prototype.binaryWrite=function(e,t){return this.write(e,t,"binary")},m.prototype.asciiWrite=function(e,t){return this.write(e,t,"ascii")},m.prototype.readUInt8=function(e,t){var n=this;return t||(a.ok(e!==undefined&&e!==null,"missing offset"),a.ok(e<n.length,"Trying to read beyond buffer length")),n.parent[n.offset+e]},m.prototype.readUInt16LE=function(e,t){return w(this,e,!1,t)},m.prototype.readUInt16BE=function(e,t){return w(this,e,!0,t)},m.prototype.readUInt32LE=function(e,t){return E(this,e,!1,t)},m.prototype.readUInt32BE=function(e,t){return E(this,e,!0,t)},m.prototype.readInt8=function(e,t){var n=this,r;return t||(a.ok(e!==undefined&&e!==null,"missing offset"),a.ok(e<n.length,"Trying to read beyond buffer length")),r=n.parent[n.offset+e]&128,r?(255-n.parent[n.offset+e]+1)*-1:n.parent[n.offset+e]},m.prototype.readInt16LE=function(e,t){return S(this,e,!1,t)},m.prototype.readInt16BE=function(e,t){return S(this,e,!0,t)},m.prototype.readInt32LE=function(e,t){return x(this,e,!1,t)},m.prototype.readInt32BE=function(e,t){return x(this,e,!0,t)},m.prototype.readFloatLE=function(e,t){return T(this,e,!1,t)},m.prototype.readFloatBE=function(e,t){return T(this,e,!0,t)},m.prototype.readDoubleLE=function(e,t){return N(this,e,!1,t)},m.prototype.readDoubleBE=function(e,t){return N(this,e,!0,t)},m.prototype.writeUInt8=function(e,t,n){var r=this;n||(a.ok(e!==undefined&&e!==null,"missing value"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t<r.length,"trying to write beyond buffer length"),C(e,255)),r.parent[r.offset+t]=e},m.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!1,n)},m.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!0,n)},m.prototype.writeUInt32LE=function(e,t,n){L(this,e,t,!1,n)},m.prototype.writeUInt32BE=function(e,t,n){L(this,e,t,!0,n)},m.prototype.writeInt8=function(e,t,n){var r=this;n||(a.ok(e!==undefined&&e!==null,"missing value"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t<r.length,"Trying to write beyond buffer length"),A(e,127,-128)),e>=0?r.writeUInt8(e,t,n):r.writeUInt8(255+e+1,t,n)},m.prototype.writeInt16LE=function(e,t,n){M(this,e,t,!1,n)},m.prototype.writeInt16BE=function(e,t,n){M(this,e,t,!0,n)},m.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!1,n)},m.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!0,n)},m.prototype.writeFloatLE=function(e,t,n){D(this,e,t,!1,n)},m.prototype.writeFloatBE=function(e,t,n){D(this,e,t,!0,n)},m.prototype.writeDoubleLE=function(e,t,n){P(this,e,t,!1,n)},m.prototype.writeDoubleBE=function(e,t,n){P(this,e,t,!0,n)},u.prototype.readUInt8=m.prototype.readUInt8,u.prototype.readUInt16LE=m.prototype.readUInt16LE,u.prototype.readUInt16BE=m.prototype.readUInt16BE,u.prototype.readUInt32LE=m.prototype.readUInt32LE,u.prototype.readUInt32BE=m.prototype.readUInt32BE,u.prototype.readInt8=m.prototype.readInt8,u.prototype.readInt16LE=m.prototype.readInt16LE,u.prototype.readInt16BE=m.prototype.readInt16BE,u.prototype.readInt32LE=m.prototype.readInt32LE,u.prototype.readInt32BE=m.prototype.readInt32BE,u.prototype.readFloatLE=m.prototype.readFloatLE,u.prototype.readFloatBE=m.prototype.readFloatBE,u.prototype.readDoubleLE=m.prototype.readDoubleLE,u.prototype.readDoubleBE=m.prototype.readDoubleBE,u.prototype.writeUInt8=m.prototype.writeUInt8,u.prototype.writeUInt16LE=m.prototype.writeUInt16LE,u.prototype.writeUInt16BE=m.prototype.writeUInt16BE,u.prototype.writeUInt32LE=m.prototype.writeUInt32LE,u.prototype.writeUInt32BE=m.prototype.writeUInt32BE,u.prototype.writeInt8=m.prototype.writeInt8,u.prototype.writeInt16LE=m.prototype.writeInt16LE,u.prototype.writeInt16BE=m.prototype.writeInt16BE,u.prototype.writeInt32LE=m.prototype.writeInt32LE,u.prototype.writeInt32BE=m.prototype.writeInt32BE,u.prototype.writeFloatLE=m.prototype.writeFloatLE,u.prototype.writeFloatBE=m.prototype.writeFloatBE,u.prototype.writeDoubleLE=m.prototype.writeDoubleLE,u.prototype.writeDoubleBE=m.prototype.writeDoubleBE}),e.define("/node_modules/buffer-browserify/node_modules/base64-js/package.json",function(e,t,n,r,i,s,o){t.exports={main:"lib/b64.js"}}),e.define("/node_modules/buffer-browserify/node_modules/base64-js/lib/b64.js",function(e,t,n,r,i,s,o){(function(e){"use strict";function r(e){var t,r,i,s,o,u;if(e.length%4>0)throw"Invalid string. Length must be a multiple of 4";o=e.indexOf("="),o=o>0?e.length-o:0,u=[],i=o>0?e.length-4:e.length;for(t=0,r=0;t<i;t+=4,r+=3)s=n.indexOf(e[t])<<18|n.indexOf(e[t+1])<<12|n.indexOf(e[t+2])<<6|n.indexOf(e[t+3]),u.push((s&16711680)>>16),u.push((s&65280)>>8),u.push(s&255);return o===2?(s=n.indexOf(e[t])<<2|n.indexOf(e[t+1])>>4,u.push(s&255)):o===1&&(s=n.indexOf(e[t])<<10|n.indexOf(e[t+1])<<4|n.indexOf(e[t+2])>>2,u.push(s>>8&255),u.push(s&255)),u}function i(e){function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}var t,r=e.length%3,i="",s,o;for(t=0,o=e.length-r;t<o;t+=3)s=(e[t]<<16)+(e[t+1]<<8)+e[t+2],i+=u(s);switch(r){case 1:s=e[e.length-1],i+=n[s>>2],i+=n[s<<4&63],i+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],i+=n[s>>10],i+=n[s>>4&63],i+=n[s<<2&63],i+="="}return i}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports.toByteArray=r,t.exports.fromByteArray=i})()}),e.define("/node_modules/buffer-browserify/buffer_ieee754.js",function(e,t,n,r,i,s,o){n.readIEEE754=function(e,t,n,r,i){var s,o,u=i*8-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?0:i-1,h=n?1:-1,p=e[t+c];c+=h,s=p&(1<<-l)-1,p>>=-l,l+=u;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);o=s&(1<<-l)-1,s>>=-l,l+=r;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);if(s===0)s=1-f;else{if(s===a)return o?NaN:(p?-1:1)*Infinity;o+=Math.pow(2,r),s-=f}return(p?-1:1)*o*Math.pow(2,s-r)},n.writeIEEE754=function(e,t,n,r,i,s){var o,u,a,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?s-1:0,d=r?-1:1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===Infinity?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+c>=1?t+=h/a:t+=h*Math.pow(2,1-c),t*a>=2&&(o++,a/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*a-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));for(;i>=8;e[n+p]=u&255,p+=d,u/=256,i-=8);o=o<<i|u,f+=i;for(;f>0;e[n+p]=o&255,p+=d,o/=256,f-=8);e[n+p-d]|=v*128}}),e.define("/src/heap.js",function(e,t,n,r,i,s,o){function u(e){this.content=[],this.scoreFunction=e}u.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){var t=this.content.length;for(var n=0;n<t;n++)if(this.content[n]==e){var r=this.content.pop();n!=t-1&&(this.content[n]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n));return}},size:function(){return this.content.length},bubbleUp:function(e){var t=this.content[e];while(e>0){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},sinkDown:function(e){var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);for(;;){var i=(e+1)*2,s=i-1,o=null;if(s<t){var u=this.content[s],a=this.scoreFunction(u);a<r&&(o=s)}if(i<t){var f=this.content[i],l=this.scoreFunction(f);l<(o==null?r:a)&&(o=i)}if(o==null)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},typeof n!="undefined"&&(n.BinaryHeap=u)}),e.define("/src/shapes.js",function(e,t,n,r,i,s,o){"use strict";function a(e){function o(e,n){return e+(t+1)*n}var t=e.width||10,n=e.height||10,r=new Array((t+1)*(n+1));for(var i=0;i<=n;++i)for(var s=0;s<=t;++s)r[s+(t+1)*i]=[s,i,0];var u=[];for(var i=0;i<n;++i)for(var s=0;s<t;++s)u.push([o(s,i),o(s+1,i),o(s,i+1)]),u.push([o(s+1,i),o(s+1,i+1),o(s,i+1)]);return{positions:r,faces:u}}function f(e){function s(e,t,n){return e+i*(t+i*n)}var t=e.resolution||10,n=typeof e.scale=="number"?[e.scale,e.scale,e.scale]:e.scale||[1,1,1],r=t>>1,i=2*r+1,o=new Array(6*i*i),a=[];for(var f=0;f<3;++f){var l=(f+1)%3,c=(f+2)%3;for(var h=0;h<2;++h){var p=2*f+h,d=new Array(3);d[l]=-r,d[c]=-r,d[f]=(1-2*h)*r;for(var v=0;v<i;++v,++d[c]){d[l]=-r;for(var m=0;m<i;++m,++d[l]){var g=new Array(3);for(var y=0;y<3;++y)g[y]=d[y]*n[y]/r;o[s(m,v,p)]=g,m<i-1&&v<i-1&&(h?(a.push([s(m,v,p),s(m,v+1,p),s(m+1,v,p)]),a.push([s(m+1,v,p),s(m,v+1,p),s(m+1,v+1,p)])):(a.push([s(m,v,p),s(m+1,v,p),s(m,v+1,p)]),a.push([s(m,v+1,p),s(m+1,v,p),s(m+1,v+1,p)])))}}}}var b=.5*Math.min(n[0],Math.min(n[1],n[2]))/r;return u.fuse_vertices({positions:o,faces:a},b)}function l(e){var t=e.resolution||10,n=e.radius||1,r=f({resolution:t});for(var i=0;i<r.positions.length;++i){var s=r.positions[i],o=0;for(var u=0;u<3;++u)o+=s[u]*s[u];o=n/Math.sqrt(o);for(var u=0;u<3;++u)s[u]*=o}return r}var u=e("./repair.js");n.grid_mesh=a,n.cube_mesh=f,n.sphere_mesh=l}),e.define("/src/loop_subdivision.js",function(e,t,n,r,i,s,o){function a(e,t,n){for(var r=0;r<3;++r)if(n[r]!==e&&n[r]!==t)return n[r];return 0}var u=e("./topology.js");n.loop_subdivide=function(e){var t=e.positions,n=e.faces,r=e.edges||u.edges({faces:n}),i=e.stars||u.vertex_stars({vertex_count:t.length,faces:n}),s=[],o=[],f={},l=new Array(t.length),c=new Array(3),h=new Array(3);for(var p=0;p<n.length;++p){var d=n[p];for(var v=0;v<3;++v){var m=d[v],g=d[(v+1)%3],y=[g,m];y.sort();if(y in f)c[v]=f[y];else{var b=r[y],w=t[g],E=t[m],S=new Array(3);if(b.length===2){var x=t[a(g,m,n[b[0]])],T=t[a(g,m,n[b[1]])];for(var N=0;N<3;++N)S[N]=(3*(w[N]+E[N])+x[N]+T[N])/8}else for(var N=0;N<3;++N)S[N]=.5*(w[N]+E[N]);f[y]=c[v]=s.length,s.push(S)}if(m in l)h[v]=l[m];else{var C=i[m],k=[m];for(var N=0;N<C.length;++N){var L=n[C[N]];for(var A=0;A<3;++A)k.indexOf(L[A])!==-1&&k.push(L[A])}var O=C.length===3?3/16:3/(8*C.length),M=1-C.length*O,_=t[m],S=new Array(3);for(var N=0;N<3;++N)S[N]=M*_[N];for(var N=1;N<k.length;++N){var D=t[k[N]];for(var A=0;A<3;++A)S[A]+=O*D[A]}h[v]=l[m]=s.length,s.push(S)}}o.push([h[0],c[0],c[2]]),o.push([c[0],c[1],c[2]]),o.push([c[0],h[1],c[1]]),o.push([c[1],h[2],c[2]])}return{positions:s,faces:o}}}),e.define("/client.js",function(e,t,n,r,i,s,o){window.trimesh=e("./index.js")}),e("/client.js")})();